<!DOCTYPE html>
<html lang="de">
<head>
  <!-- Meta-Angaben für Zeichensatz und responsives Design -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Messstation: Druck &amp; Durchfluss</title>
  <!-- Einbinden der CSS-Datei -->
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <!-- Hauptcontainer der Seite -->
  <div class="container">
    <h1>Messstation: Druck &amp; Durchfluss</h1>
    
    <!-- Kalibrierungsbereich – ganz oben -->
    <div class="calibration-section">
      <h2>Kalibrierung der Drucksensoren</h2>
      <table>
        <tr>
          <th>Sensor</th>
          <th>V_min (0 bar)</th>
          <th>V_max</th>
          <th>PSI_min</th>
          <th>PSI_max</th>
          <th>Aktionen</th>
        </tr>
        <tr>
          <td>Sensor 1</td>
          <td><input type="number" step="0.01" id="sensor1Vmin" value="0.5"></td>
          <td><input type="number" step="0.01" id="sensor1Vmax" value="4.5"></td>
          <td><input type="number" step="0.1" id="sensor1PSImin" value="0"></td>
          <td><input type="number" step="0.1" id="sensor1PSImax" value="30"></td>
          <td>
            <button onclick="updateCalibration(0)">Aktualisieren</button>
            <button onclick="calibrateVmin(0)">Auto‑Kalibrieren</button>
          </td>
        </tr>
        <tr>
          <td>Sensor 2</td>
          <td><input type="number" step="0.01" id="sensor2Vmin" value="0.5"></td>
          <td><input type="number" step="0.01" id="sensor2Vmax" value="4.5"></td>
          <td><input type="number" step="0.1" id="sensor2PSImin" value="0"></td>
          <td><input type="number" step="0.1" id="sensor2PSImax" value="30"></td>
          <td>
            <button onclick="updateCalibration(1)">Aktualisieren</button>
            <button onclick="calibrateVmin(1)">Auto‑Kalibrieren</button>
          </td>
        </tr>
        <tr>
          <td>Sensor 3</td>
          <td><input type="number" step="0.01" id="sensor3Vmin" value="0.5"></td>
          <td><input type="number" step="0.01" id="sensor3Vmax" value="4.5"></td>
          <td><input type="number" step="0.1" id="sensor3PSImin" value="0"></td>
          <td><input type="number" step="0.1" id="sensor3PSImax" value="30"></td>
          <td>
            <button onclick="updateCalibration(2)">Aktualisieren</button>
            <button onclick="calibrateVmin(2)">Auto‑Kalibrieren</button>
          </td>
        </tr>
        <tr>
          <td>Sensor 4</td>
          <td><input type="number" step="0.01" id="sensor4Vmin" value="0.5"></td>
          <td><input type="number" step="0.01" id="sensor4Vmax" value="4.5"></td>
          <td><input type="number" step="0.1" id="sensor4PSImin" value="0"></td>
          <td><input type="number" step="0.1" id="sensor4PSImax" value="30"></td>
          <td>
            <button onclick="updateCalibration(3)">Aktualisieren</button>
            <button onclick="calibrateVmin(3)">Auto‑Kalibrieren</button>
          </td>
        </tr>
      </table>
    </div>
    
    <!-- Flex Container für Zeitanzeige und Datum/Uhrzeiteinstellung -->
    <div class="time-settings">
      <!-- Anzeige der aktuellen Zeit -->
      <div id="timeDisplay">Zeit: --:--:--</div>
      <!-- Abschnitt zum Einstellen von Datum und Uhrzeiteinstellung -->
      <div class="set-date">
        <h2>Datum und Uhrzeit einstellen</h2>
        <input type="datetime-local" id="datetimeInput">
        <button onclick="setDate()">Zeit und Datum setzen</button>
      </div>
    </div>
    
    <!-- Bereich für Sensoranzeigen -->
    <div class="cards">
      <!-- Card für die Drucksensoren -->
      <div class="card" id="pressureCard">
        <h2>Drucksensoren (bar)</h2>
        <div id="pressureData">Lade Daten...</div>
        <!-- Optional: Hier könnte ein weiterer Kalibrierungsbutton stehen -->
        <button onclick="alert('Kalibrierung öffnen')">Kalibrieren</button>
      </div>
      <!-- Card für den Durchfluss -->
      <div class="card" id="flowCard">
        <h2>Durchfluss</h2>
        <div id="flowData">Lade Daten...</div>
        <button onclick="clearFlow()">Kumulativen Durchfluss zurücksetzen</button>
      </div>
    </div>
    
    <!-- Steuerungsbereich für Recording und Logverwaltung -->
    <div class="controls">
      <button onclick="toggleRecording()">Recording Start/Stop</button>
      <button onclick="downloadLog()">Log herunterladen</button>
      <button onclick="deleteLog()">Log löschen</button>
    </div>
  </div>
  <!-- Einbinden der JavaScript-Datei -->
  <script src="/script.js"></script>
</body>
</html>
